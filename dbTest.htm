<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>DataBase Test</title>
    <script src="js/lib/zepto.js" type="text/javascript"></script>
    <script src="js/lib/Database.js" type="text/javascript"></script>
    <script src="js/EleoooDatabase.js" type="text/javascript"></script>
    <style type="text/css">
        #txtCmd
        {
            height: 151px;
            width: 299px;
        }
    </style>
</head>
<body>
    <div>
        <textarea id="txtCmd" name="txtCmd"></textarea></div>
    <div style="line-height: 48px;">
        <input type="button" value="Open" id="btnOpen" />
        <input type="button" value="Execute" id="btnExe" /></div>
    <div style="color: Green" id="result">
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#btnOpen").click(function () {
                window.db = new EleoooDatabase(function () {
                    alert("open success.");
                });
            });
            $("#btnExe").click(function () {
                var cmd = db.getCommand($("#txtCmd").val(), executeResult);
                db.execute($("#txtCmd").val(), executeResult);
            });
        });
        function executeResult(tx, result, rows) {
            if (rows) {
                app.logError(rows);
                console.log("DEMO table: " + rows.length + " rows found.");
                $("#result").text(JSON.stringify(rows));
            }
        }
    </script>
</body>
</html>
